<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>GD åº“ &#8211; ä¸ªäººéšç¬”</title>
	<atom:link href="/label/gd-%E5%BA%93/feed" rel="self" type="application/rss+xml" />
	<link>/</link>
	<description></description>
	<lastBuildDate>Fri, 18 May 2018 12:20:15 +0000</lastBuildDate>
	<language>zh-CN</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.6.1</generator>

<image>
	<url>/wp-content/uploads/2022/01/cropped-æˆªå±2022-01-01-18.57.09-32x32.png</url>
	<title>GD åº“ &#8211; ä¸ªäººéšç¬”</title>
	<link>/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>PHP æ ¸å¿ƒç¼–ç¨‹ï¼ˆäº”ï¼‰GD åº“ã€ å›¾ç‰‡é¢œè‰²å¡«å……ã€ æ°´å°ã€ ç¼©ç•¥å›¾ã€ éªŒè¯ç </title>
		<link>/php/php%e6%a0%b8%e5%bf%83%e7%bc%96%e7%a8%8b/1363.html</link>
					<comments>/php/php%e6%a0%b8%e5%bf%83%e7%bc%96%e7%a8%8b/1363.html#respond</comments>
		
		<dc:creator><![CDATA[Mr.Lee]]></dc:creator>
		<pubDate>Fri, 18 May 2018 09:35:08 +0000</pubDate>
				<category><![CDATA[PHPæ ¸å¿ƒç¼–ç¨‹]]></category>
		<category><![CDATA[GD åº“]]></category>
		<category><![CDATA[å›¾ç‰‡é¢œè‰²å¡«å……]]></category>
		<category><![CDATA[æ°´å°]]></category>
		<category><![CDATA[ç¼©ç•¥å›¾]]></category>
		<category><![CDATA[éªŒè¯ç ]]></category>
		<guid isPermaLink="false">/?p=1363</guid>

					<description><![CDATA[GDå›¾åƒå¤„ç† GDåº“ç®€ä»‹ GDåº“æ˜¯ä¸“é—¨åšå›¾åƒå¤„ç†çš„ã€‚æ¯”å¦‚éªŒè¯ç ï¼Œç¼©ç•¥å›¾ï¼Œå›¾ç‰‡æ°´å°ç­‰æ•ˆæœ PHPæ“ä½œGDåº“çš„åŸç† [&#8230;]]]></description>
										<content:encoded><![CDATA[<h1>GDå›¾åƒå¤„ç†</h1>
<h2>GDåº“ç®€ä»‹</h2>
<p>GDåº“æ˜¯ä¸“é—¨åšå›¾åƒå¤„ç†çš„ã€‚æ¯”å¦‚éªŒè¯ç ï¼Œç¼©ç•¥å›¾ï¼Œå›¾ç‰‡æ°´å°ç­‰æ•ˆæœ</p>
<p><img fetchpriority="high" decoding="async" width="616" height="91" class="wp-image-1365" src="/wp-content/uploads/2018/05/word-image-1205.png" srcset="/wp-content/uploads/2018/05/word-image-1205.png 616w, /wp-content/uploads/2018/05/word-image-1205-300x44.png 300w" sizes="(max-width: 616px) 100vw, 616px" /><br />
<img decoding="async" width="873" height="263" class="wp-image-1366" src="/wp-content/uploads/2018/05/word-image-1206.png" srcset="/wp-content/uploads/2018/05/word-image-1206.png 873w, /wp-content/uploads/2018/05/word-image-1206-300x90.png 300w, /wp-content/uploads/2018/05/word-image-1206-768x231.png 768w" sizes="(max-width: 873px) 100vw, 873px" /><br />
<img decoding="async" width="574" height="203" class="wp-image-1367" src="/wp-content/uploads/2018/05/word-image-1207.png" srcset="/wp-content/uploads/2018/05/word-image-1207.png 574w, /wp-content/uploads/2018/05/word-image-1207-300x106.png 300w" sizes="(max-width: 574px) 100vw, 574px" /></p>
<h2>PHPæ“ä½œGDåº“çš„åŸç†</h2>
<p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºå›¾ç‰‡èµ„æº</p>
<p>ç¬¬äºŒæ­¥ï¼šå¯¹å›¾ç‰‡è¿›è¡Œæ“ä½œ</p>
<p>ç¬¬ä¸‰æ­¥ï¼šè¾“å‡ºå›¾ç‰‡èµ„æº</p>
<p>ç¬¬å››æ­¥ï¼šé”€æ¯å›¾ç‰‡èµ„æº</p>
<h2>å¼•å…¥GDåº“</h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒPHPä¸æ”¯æŒå¯¹å›¾ç‰‡çš„å¤„ç†ï¼Œå¿…é¡»å¼•å…¥GDæ‰©å±•æ‰èƒ½å®ç°å¯¹å›¾ç‰‡çš„æ“ä½œ</p>
<p><img loading="lazy" decoding="async" width="629" height="61" class="wp-image-1368" src="/wp-content/uploads/2018/05/word-image-1208.png" srcset="/wp-content/uploads/2018/05/word-image-1208.png 629w, /wp-content/uploads/2018/05/word-image-1208-300x29.png 300w" sizes="(max-width: 629px) 100vw, 629px" /></p>
<p>å¼€å¯GDåº“åï¼Œä»¥imageå¼€å¤´çš„å‡½æ•°éƒ½å¯ä»¥ä½¿ç”¨äº†ã€‚</p>
<p><img loading="lazy" decoding="async" width="344" height="385" class="wp-image-1369" src="/wp-content/uploads/2018/05/word-image-1209.png" srcset="/wp-content/uploads/2018/05/word-image-1209.png 344w, /wp-content/uploads/2018/05/word-image-1209-268x300.png 268w" sizes="(max-width: 344px) 100vw, 344px" /></p>
<h2>åˆ›å»ºå›¾ç‰‡</h2>
<h3>çŸ¥è¯†ç‚¹</h3>
<ol>
<li>imagecreate()ï¼šåˆ›å»ºå›¾ç‰‡èµ„æº</li>
<li>imagecolorallocate()ï¼šç»™å›¾ç‰‡èµ„æºåˆ†é…ä¸€ä¸ªé¢œè‰²</li>
<li>imagejpeg()ï¼šå›¾ç‰‡æŒ‰jpegæ ¼å¼æ˜¾ç¤ºæˆ–ä¿å­˜</li>
<li>imagegif()ï¼šå›¾ç‰‡æŒ‰gifæ ¼å¼æ˜¾ç¤ºæˆ–ä¿å­˜</li>
<li>imagepng()ï¼šå›¾ç‰‡æŒ‰pngæ ¼å¼æ˜¾ç¤ºæˆ–ä¿å­˜</li>
<li>imagedestroy()ï¼šé”€æ¯å›¾ç‰‡</li>
</ol>
<h3>ä»£ç </h3>
<p><img loading="lazy" decoding="async" width="1101" height="161" class="wp-image-1370" src="/wp-content/uploads/2018/05/word-image-1210.png" srcset="/wp-content/uploads/2018/05/word-image-1210.png 1101w, /wp-content/uploads/2018/05/word-image-1210-300x44.png 300w, /wp-content/uploads/2018/05/word-image-1210-768x112.png 768w, /wp-content/uploads/2018/05/word-image-1210-1024x150.png 1024w" sizes="(max-width: 1101px) 100vw, 1101px" /></p>
<p>è„šä¸‹ç•™å¿ƒï¼šå¦‚æœå›¾ç‰‡ä¿å­˜å°±ä¸éœ€è¦å†™header().</p>
<h3>imagecolorallocate()</h3>
<p>ç»™å›¾ç‰‡åˆ†é…é¢œè‰²ï¼Œé»˜è®¤ç¬¬ä¸€ä¸ªåˆ†é…çš„é¢œè‰²æ˜¯èƒŒæ™¯è‰²ï¼Œè¿”å›çš„æ˜¯é¢œè‰²çš„ç¼–å·</p>
<p><img loading="lazy" decoding="async" width="998" height="143" class="wp-image-1371" src="/wp-content/uploads/2018/05/word-image-1211.png" srcset="/wp-content/uploads/2018/05/word-image-1211.png 998w, /wp-content/uploads/2018/05/word-image-1211-300x43.png 300w, /wp-content/uploads/2018/05/word-image-1211-768x110.png 768w" sizes="(max-width: 998px) 100vw, 998px" /></p>
<p>è¿”å›çš„æ˜¯é¢œè‰²çš„ç´¢å¼•ç¼–å·</p>
<p><img loading="lazy" decoding="async" width="820" height="107" class="wp-image-1372" src="/wp-content/uploads/2018/05/word-image-1212.png" srcset="/wp-content/uploads/2018/05/word-image-1212.png 820w, /wp-content/uploads/2018/05/word-image-1212-300x39.png 300w, /wp-content/uploads/2018/05/word-image-1212-768x100.png 768w" sizes="(max-width: 820px) 100vw, 820px" /></p>
<h2>ç”»å›¾</h2>
<h3>ç›´çº¿</h3>
<p><img loading="lazy" decoding="async" width="636" height="109" class="wp-image-1373" src="/wp-content/uploads/2018/05/word-image-1213.png" srcset="/wp-content/uploads/2018/05/word-image-1213.png 636w, /wp-content/uploads/2018/05/word-image-1213-300x51.png 300w" sizes="(max-width: 636px) 100vw, 636px" /></p>
<p>ä¾‹é¢˜</p>
<p><img loading="lazy" decoding="async" width="1068" height="138" class="wp-image-1374" src="/wp-content/uploads/2018/05/word-image-1214.png" srcset="/wp-content/uploads/2018/05/word-image-1214.png 1068w, /wp-content/uploads/2018/05/word-image-1214-300x39.png 300w, /wp-content/uploads/2018/05/word-image-1214-768x99.png 768w, /wp-content/uploads/2018/05/word-image-1214-1024x132.png 1024w" sizes="(max-width: 1068px) 100vw, 1068px" /></p>
<h3>çŸ©å½¢</h3>
<p><img loading="lazy" decoding="async" width="840" height="109" class="wp-image-1375" src="/wp-content/uploads/2018/05/word-image-1215.png" srcset="/wp-content/uploads/2018/05/word-image-1215.png 840w, /wp-content/uploads/2018/05/word-image-1215-300x39.png 300w, /wp-content/uploads/2018/05/word-image-1215-768x100.png 768w" sizes="(max-width: 840px) 100vw, 840px" /></p>
<p>ä»£ç </p>
<p><img loading="lazy" decoding="async" width="856" height="208" class="wp-image-1376" src="/wp-content/uploads/2018/05/word-image-1216.png" srcset="/wp-content/uploads/2018/05/word-image-1216.png 856w, /wp-content/uploads/2018/05/word-image-1216-300x73.png 300w, /wp-content/uploads/2018/05/word-image-1216-768x187.png 768w" sizes="(max-width: 856px) 100vw, 856px" /></p>
<h3>åœ†å¼§</h3>
<p><img loading="lazy" decoding="async" width="913" height="138" class="wp-image-1377" src="/wp-content/uploads/2018/05/word-image-1217.png" srcset="/wp-content/uploads/2018/05/word-image-1217.png 913w, /wp-content/uploads/2018/05/word-image-1217-300x45.png 300w, /wp-content/uploads/2018/05/word-image-1217-768x116.png 768w" sizes="(max-width: 913px) 100vw, 913px" /></p>
<p>ä¾‹é¢˜1</p>
<p><img loading="lazy" decoding="async" width="1068" height="137" class="wp-image-1378" src="/wp-content/uploads/2018/05/word-image-1218.png" srcset="/wp-content/uploads/2018/05/word-image-1218.png 1068w, /wp-content/uploads/2018/05/word-image-1218-300x38.png 300w, /wp-content/uploads/2018/05/word-image-1218-768x99.png 768w, /wp-content/uploads/2018/05/word-image-1218-1024x131.png 1024w" sizes="(max-width: 1068px) 100vw, 1068px" /></p>
<p>ä¾‹é¢˜2</p>
<p><img loading="lazy" decoding="async" width="882" height="149" class="wp-image-1379" src="/wp-content/uploads/2018/05/word-image-1219.png" srcset="/wp-content/uploads/2018/05/word-image-1219.png 882w, /wp-content/uploads/2018/05/word-image-1219-300x51.png 300w, /wp-content/uploads/2018/05/word-image-1219-768x130.png 768w" sizes="(max-width: 882px) 100vw, 882px" /></p>
<p>ä¾‹é¢˜3</p>
<p><img loading="lazy" decoding="async" width="879" height="174" class="wp-image-1380" src="/wp-content/uploads/2018/05/word-image-1220.png" srcset="/wp-content/uploads/2018/05/word-image-1220.png 879w, /wp-content/uploads/2018/05/word-image-1220-300x59.png 300w, /wp-content/uploads/2018/05/word-image-1220-768x152.png 768w" sizes="(max-width: 879px) 100vw, 879px" /></p>
<h3>æ›²çº¿</h3>
<p>æ›²çº¿æ˜¯ç”±å¤šä¸ªåƒç´ ç‚¹ç»„æˆï¼Œç”»æ›²çº¿å°±æ˜¯ç”»è®¸å¤šåƒç´ ç‚¹</p>
<p><img loading="lazy" decoding="async" width="629" height="153" class="wp-image-1381" src="/wp-content/uploads/2018/05/word-image-1221.png" srcset="/wp-content/uploads/2018/05/word-image-1221.png 629w, /wp-content/uploads/2018/05/word-image-1221-300x73.png 300w" sizes="(max-width: 629px) 100vw, 629px" /></p>
<p>ä¾‹é¢˜</p>
<p><img loading="lazy" decoding="async" width="978" height="198" class="wp-image-1382" src="/wp-content/uploads/2018/05/word-image-1222.png" srcset="/wp-content/uploads/2018/05/word-image-1222.png 978w, /wp-content/uploads/2018/05/word-image-1222-300x61.png 300w, /wp-content/uploads/2018/05/word-image-1222-768x155.png 768w" sizes="(max-width: 978px) 100vw, 978px" /></p>
<h2>éªŒè¯ç </h2>
<p>éªŒè¯ç å¯ä»¥é˜²æ­¢æš´åŠ›ç ´è§£ï¼Œé€šè¿‡æ’åˆ—ç»„åˆçš„æ–¹å¼ç ´è§£ç”¨æˆ·åå’Œå¯†ç ã€‚</p>
<p>éªŒè¯ç ç”±èƒŒæ™¯å›¾å’Œéšæœºæ•°ç»„æˆ</p>
<h3>çŸ¥è¯†ç‚¹</h3>
<ol>
<li>imagestring()</li>
</ol>
<p><img loading="lazy" decoding="async" width="914" height="93" class="wp-image-1383" src="/wp-content/uploads/2018/05/word-image-1223.png" srcset="/wp-content/uploads/2018/05/word-image-1223.png 914w, /wp-content/uploads/2018/05/word-image-1223-300x31.png 300w, /wp-content/uploads/2018/05/word-image-1223-768x78.png 768w" sizes="(max-width: 914px) 100vw, 914px" /></p>
<ol>
<li>å­—ç¬¦ä¸²å±…ä¸­</li>
</ol>
<p><img loading="lazy" decoding="async" width="502" height="151" class="wp-image-1384" src="/wp-content/uploads/2018/05/word-image-1224.png" srcset="/wp-content/uploads/2018/05/word-image-1224.png 502w, /wp-content/uploads/2018/05/word-image-1224-300x90.png 300w" sizes="(max-width: 502px) 100vw, 502px" /></p>
<ul>
<li>
<ol>
<li>Imagesx()ï¼šè·å–å›¾ç‰‡å®½åº¦</li>
<li>Imagesy()ï¼šè·å–å›¾ç‰‡é«˜åº¦</li>
<li>Imagefontwidth()ï¼šè·å–å›¾ç‰‡å†…ç½®å­—ä½“çš„å®½åº¦</li>
<li>Imagefontheight()ï¼šè·å–å›¾ç‰‡å†…ç½®å­—ä½“çš„é«˜åº¦</li>
</ol>
</li>
</ul>
<h3>ä»£ç </h3>
<p>&lt;?php</p>
<p>//ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆéšæœºå­—ç¬¦ä¸²</p>
<p>$char_array=array_merge(range(&#8216;a&#8217;,&#8217;z&#8217;),range(&#8216;A&#8217;,&#8217;Z&#8217;),range(0,9)); //å­—æ¯å’Œæ•°å­—çš„æ•°ç»„</p>
<p>$indexes=array_rand($char_array,4); //éšæœºæŠ½å–4ä¸ªå­—ç¬¦ï¼Œè¿”å›å­—ç¬¦ä¸‹æ ‡æ•°ç»„</p>
<p>shuffle($indexes); //æ‰“ä¹±æ•°ç»„</p>
<p>$str=&#8221;;</p>
<p>foreach($indexes as $i) {</p>
<p>$str.=$char_array[$i];</p>
<p>}</p>
<p>//ç¬¬äºŒæ­¥ï¼šå°†å­—ç¬¦ä¸²å†™åˆ°èƒŒæ™¯å›¾</p>
<p>$img=imagecreate(200,100);</p>
<p>imagecolorallocate($img,255,0,0); //èƒŒæ™¯è‰²</p>
<p>$color=imagecolorallocate($img,255,255,255); //å‰æ™¯è‰²</p>
<p>$img_w=imagesx($img); //å›¾ç‰‡å®½åº¦</p>
<p>$img_h=imagesy($img); //å›¾ç‰‡é«˜åº¦</p>
<p>$font=5; //å†…ç½®çš„5å·å­—ä½“</p>
<p>$font_w=imagefontwidth($font); //å­—ç¬¦å®½åº¦</p>
<p>$font_h=imagefontheight($font); //å­—ç¬¦é«˜åº¦</p>
<p>$x=($img_w-$font_w*strlen($str))/2; //èµ·å§‹ç‚¹xåæ ‡</p>
<p>$y=($img_h-$font_h)/2; //èµ·å§‹ç‚¹yåæ ‡</p>
<p>imagestring($img,$font,$x,$y,$str,$color); //å°†å­—ç¬¦ä¸²å†™åˆ°å›¾ç‰‡ä¸Š</p>
<p>//è¾“å‡ºå›¾ç‰‡</p>
<p>header(&#8216;Content-Type:image/png&#8217;);</p>
<p>imagepng($img);</p>
<p>è¿è¡Œç»“æœ</p>
<p><img loading="lazy" decoding="async" width="465" height="176" class="wp-image-1385" src="/wp-content/uploads/2018/05/word-image-1225.png" srcset="/wp-content/uploads/2018/05/word-image-1225.png 465w, /wp-content/uploads/2018/05/word-image-1225-300x114.png 300w" sizes="(max-width: 465px) 100vw, 465px" /></p>
<h2>ä¸­æ–‡éªŒè¯ç </h2>
<p>Imagestring()ä¸èƒ½åšä¸­æ–‡çš„éªŒè¯ç ï¼Œè¦ä½¿ç”¨ä¸­æ–‡åšéªŒè¯ç éœ€è¦ä½¿ç”¨<a href="mk:@MSITStore:F:\\å¸®åŠ©æ–‡æ¡£\\php_manual_zh.chm::/res/function.imagettftext.html">imagettftext()</a>ã€‚</p>
<p><img loading="lazy" decoding="async" width="860" height="77" class="wp-image-1386" src="/wp-content/uploads/2018/05/word-image-1226.png" srcset="/wp-content/uploads/2018/05/word-image-1226.png 860w, /wp-content/uploads/2018/05/word-image-1226-300x27.png 300w, /wp-content/uploads/2018/05/word-image-1226-768x69.png 768w" sizes="(max-width: 860px) 100vw, 860px" /></p>
<p>å°†å­—ä½“æ‹·è´åˆ°ç«™ç‚¹ä¸‹</p>
<p><img loading="lazy" decoding="async" width="774" height="219" class="wp-image-1387" src="/wp-content/uploads/2018/05/word-image-1227.png" srcset="/wp-content/uploads/2018/05/word-image-1227.png 774w, /wp-content/uploads/2018/05/word-image-1227-300x85.png 300w, /wp-content/uploads/2018/05/word-image-1227-768x217.png 768w" sizes="(max-width: 774px) 100vw, 774px" /></p>
<h3>çŸ¥è¯†ç‚¹</h3>
<p>è·å–å­—ä½“çš„èŒƒå›´</p>
<p><img loading="lazy" decoding="async" width="662" height="121" class="wp-image-1388" src="/wp-content/uploads/2018/05/word-image-1228.png" srcset="/wp-content/uploads/2018/05/word-image-1228.png 662w, /wp-content/uploads/2018/05/word-image-1228-300x55.png 300w" sizes="(max-width: 662px) 100vw, 662px" /></p>
<p>è¿”å›å€¼</p>
<p><img loading="lazy" decoding="async" width="515" height="206" class="wp-image-1389" src="/wp-content/uploads/2018/05/word-image-1229.png" srcset="/wp-content/uploads/2018/05/word-image-1229.png 515w, /wp-content/uploads/2018/05/word-image-1229-300x120.png 300w" sizes="(max-width: 515px) 100vw, 515px" /></p>
<h3>ä»£ç </h3>
<p>åŸºçº¿</p>
<p><img loading="lazy" decoding="async" width="536" height="137" class="wp-image-1390" src="/wp-content/uploads/2018/05/word-image-1230.png" srcset="/wp-content/uploads/2018/05/word-image-1230.png 536w, /wp-content/uploads/2018/05/word-image-1230-300x77.png 300w" sizes="(max-width: 536px) 100vw, 536px" /></p>
<p>ä»£ç </p>
<p>&lt;?php</p>
<p>$img=imagecreate(200,100);</p>
<p>imagecolorallocate($img,255,0,0); //èƒŒæ™¯è‰²</p>
<p>$color=imagecolorallocate($img,255,255,255); //å‰æ™¯è‰²</p>
<p>//ç”Ÿæˆéšæœºä¸­æ–‡å­—ç¬¦ä¸²</p>
<p>$char_array=[&#8216;é”„&#8217;,&#8217;ç¦¾&#8217;,&#8217;æ—¥&#8217;,&#8217;å½“&#8217;,&#8217;åˆ&#8217;,&#8217;æ±—&#8217;,&#8217;æ»´&#8217;,&#8217;ç¦¾&#8217;,&#8217;ä¸‹&#8217;,&#8217;åœŸ&#8217;,&#8217;æˆ‘&#8217;,&#8217;çˆ±&#8217;,&#8217;åŒ—&#8217;,&#8217;äº¬&#8217;,&#8217;å¤©&#8217;,&#8217;å®‰&#8217;,&#8217;é—¨&#8217;];</p>
<p>$indexes=array_rand($char_array,4); //éšæœºæŠ½å–4ä¸ªå­—ç¬¦ï¼Œè¿”å›å­—ç¬¦ä¸‹æ ‡æ•°ç»„</p>
<p>shuffle($indexes); //æ‰“ä¹±æ•°ç»„</p>
<p>$str=&#8221;;</p>
<p>foreach($indexes as $i) {</p>
<p>$str.=$char_array[$i];</p>
<p>}</p>
<p>//å­—ä½“å‚æ•°</p>
<p>$size=20; //å­—å·</p>
<p>$angle=0; //è§’åº¦</p>
<p>$fontfile=&#8217;./fonts/simhei.ttf&#8217;; //å­—ä½“</p>
<p>//è·å–å­—ä½“èŒƒå›´</p>
<p>$info=imagettfbbox($size,$angle,$fontfile,$str); //è¿”å›å­—ç¬¦ä¸²çš„4ä¸ªè§’çš„åæ ‡4</p>
<p>$x=(imagesx($img)-($info[4]-$info[6]))/2; //èµ·å§‹Xè½´</p>
<p>$y=imagesy($img)/2+($info[1]-$info[7])/3; //èµ·å§‹yè½´(å­—ä½“åŸºçº¿çš„ä½ç½®ï¼Œä¸æ˜¯å­—ç¬¦çš„æœ€åº•ç«¯ã€‚)</p>
<p>//å°†ä¸­æ–‡å†™åˆ°å›¾ç‰‡ä¸Š</p>
<p>imagettftext($img,$size,$angle,$x,$y,$color,$fontfile,$str);</p>
<p>//è¾“å‡ºå›¾ç‰‡</p>
<p>header(&#8216;Content-Type:image/png&#8217;);</p>
<p>imagepng($img);</p>
<p>è¿è¡Œç»“æœ</p>
<p><img loading="lazy" decoding="async" width="307" height="181" class="wp-image-1391" src="/wp-content/uploads/2018/05/word-image-1231.png" srcset="/wp-content/uploads/2018/05/word-image-1231.png 307w, /wp-content/uploads/2018/05/word-image-1231-300x177.png 300w" sizes="(max-width: 307px) 100vw, 307px" /></p>
<h2>æ‰“å¼€å·²æœ‰å›¾ç‰‡å®ç°éªŒè¯ç </h2>
<h3>æ‰“å¼€å·²ç»å­˜åœ¨çš„å›¾ç‰‡åˆ›å»ºç”»å¸ƒ</h3>
<ol>
<li>imagecreatefromgif()ï¼šæ‰“å¼€gifå›¾åˆ›å»ºç”»å¸ƒ</li>
<li>imagecreatefromjpeg()ï¼šæ‰“å¼€jpegå›¾åˆ›å»ºç”»å¸ƒ</li>
<li>imagecreatefrompng()ï¼šæ‰“å¼€pngå›¾åˆ›å»ºç”»å¸ƒ</li>
</ol>
<h3>ä»£ç </h3>
<p>&lt;?php</p>
<p>//ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆéšæœºå­—ç¬¦ä¸²</p>
<p>$char_array=array_merge(range(&#8216;a&#8217;,&#8217;z&#8217;),range(&#8216;A&#8217;,&#8217;Z&#8217;),range(0,9)); //å­—æ¯å’Œæ•°å­—çš„æ•°ç»„</p>
<p>$indexes=array_rand($char_array,4); //éšæœºæŠ½å–4ä¸ªå­—ç¬¦ï¼Œè¿”å›å­—ç¬¦ä¸‹æ ‡æ•°ç»„</p>
<p>shuffle($indexes); //æ‰“ä¹±æ•°ç»„</p>
<p>$str=&#8221;;</p>
<p>foreach($indexes as $i) {</p>
<p>$str.=$char_array[$i];</p>
<p>}</p>
<p>//ç¬¬äºŒæ­¥ï¼šå°†å­—ç¬¦ä¸²å†™åˆ°å›¾ç‰‡ä¸Š</p>
<p>$path=&#8217;./captcha/captcha_bg&#8217;.rand(1,5).&#8217;.jpg&#8217;; //å›¾ç‰‡è·¯å¾„</p>
<p>$img=imagecreatefromjpeg($path); //æ‰“å¼€å·²ç»å­˜åœ¨çš„jpegå›¾</p>
<p>$color=imagecolorallocate($img,255,0,0); //åˆ†é…çº¢è‰²</p>
<p>if(rand(1,2)==1) {</p>
<p>$color=imagecolorallocate($img,0,255,100); //åˆ†é…ç™½è‰²</p>
<p>}</p>
<p>$img_w=imagesx($img); //å›¾ç‰‡å®½åº¦</p>
<p>$img_h=imagesy($img); //å›¾ç‰‡é«˜åº¦</p>
<p>$font=5; //å†…ç½®çš„5å·å­—ä½“</p>
<p>$font_w=imagefontwidth($font); //å­—ç¬¦å®½åº¦</p>
<p>$font_h=imagefontheight($font); //å­—ç¬¦é«˜åº¦</p>
<p>$x=($img_w-$font_w*strlen($str))/2; //èµ·å§‹ç‚¹xåæ ‡</p>
<p>$y=($img_h-$font_h)/2; //èµ·å§‹ç‚¹yåæ ‡</p>
<p>imagestring($img,$font,$x,$y,$str,$color); //å°†å­—ç¬¦ä¸²å†™åˆ°å›¾ç‰‡ä¸Š</p>
<p>//è¾“å‡ºå›¾ç‰‡</p>
<p>header(&#8216;Content-Type:image/png&#8217;);</p>
<p>imagepng($img);</p>
<p>è¿è¡Œç»“æœ</p>
<p><img loading="lazy" decoding="async" width="356" height="92" class="wp-image-1392" src="/wp-content/uploads/2018/05/word-image-1232.png" srcset="/wp-content/uploads/2018/05/word-image-1232.png 356w, /wp-content/uploads/2018/05/word-image-1232-300x78.png 300w" sizes="(max-width: 356px) 100vw, 356px" /></p>
<h2>æ·»åŠ æ°´å°</h2>
<p>æ·»åŠ æ°´å°çš„ç›®çš„ä¸ºäº†é˜²æ­¢è¢«ç›—å›¾ã€‚</p>
<h3>æ·»åŠ æ–‡å­—æ°´å°</h3>
<p>&lt;?php</p>
<p>$img=imagecreatefromjpeg(&#8216;./face.jpg&#8217;); //æ‰“å¼€åŸå›¾</p>
<p>$color=imagecolorallocate($img,255,0,0); //åˆ†é…é¢œè‰²</p>
<p>//å­—ä½“å‚æ•°</p>
<p>$size=40; //å­—å·</p>
<p>$angle=0; //è§’åº¦</p>
<p>$fontfile=&#8217;./fonts/simhei.ttf&#8217;; //å­—ä½“</p>
<p>//è·å–å­—ä½“èŒƒå›´</p>
<p>$str=&#8217;ä¼ æ™ºæ’­å®¢ç‰ˆæƒ&#8217;;</p>
<p>$info=imagettfbbox($size,$angle,$fontfile,$str); //è¿”å›å­—ç¬¦ä¸²çš„4ä¸ªè§’çš„åæ ‡4</p>
<p>$x=imagesx($img)-($info[4]-$info[6]); //èµ·å§‹Xè½´</p>
<p>$y=imagesy($img)-($info[1]-$info[7])/3; //èµ·å§‹yè½´(å­—ä½“åŸºçº¿çš„ä½ç½®ï¼Œä¸æ˜¯å­—ç¬¦çš„æœ€åº•ç«¯ã€‚)</p>
<p>//å°†ä¸­æ–‡å†™åˆ°å›¾ç‰‡ä¸Š</p>
<p>imagettftext($img,$size,$angle,$x,$y,$color,$fontfile,$str);</p>
<p>//è¾“å‡ºå›¾ç‰‡</p>
<p>header(&#8216;Content-Type:image/png&#8217;);</p>
<p>imagepng($img);</p>
<p><img src="https://s.w.org/images/core/emoji/15.0.3/72x72/1f60e.png" alt="ğŸ˜" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><img loading="lazy" decoding="async" width="641" height="212" class="wp-image-1393" src="/wp-content/uploads/2018/05/word-image-1233.png" srcset="/wp-content/uploads/2018/05/word-image-1233.png 641w, /wp-content/uploads/2018/05/word-image-1233-300x99.png 300w" sizes="(max-width: 641px) 100vw, 641px" /></p>
<h3>æ·»åŠ å›¾ç‰‡æ°´å°</h3>
<p><img loading="lazy" decoding="async" width="945" height="114" class="wp-image-1394" src="/wp-content/uploads/2018/05/word-image-1234.png" srcset="/wp-content/uploads/2018/05/word-image-1234.png 945w, /wp-content/uploads/2018/05/word-image-1234-300x36.png 300w, /wp-content/uploads/2018/05/word-image-1234-768x93.png 768w" sizes="(max-width: 945px) 100vw, 945px" /></p>
<h3>ä»£ç </h3>
<p><img loading="lazy" decoding="async" width="965" height="259" class="wp-image-1395" src="/wp-content/uploads/2018/05/word-image-1235.png" srcset="/wp-content/uploads/2018/05/word-image-1235.png 965w, /wp-content/uploads/2018/05/word-image-1235-300x81.png 300w, /wp-content/uploads/2018/05/word-image-1235-768x206.png 768w" sizes="(max-width: 965px) 100vw, 965px" /></p>
<h2>ç”Ÿæˆç¼©ç•¥å›¾</h2>
<p>å°†å¤§å›¾è‡ªåŠ¨çš„ç”Ÿæˆå°ç¼©ç•¥å›¾</p>
<p>åŸå›¾çš„å‚æ•°ï¼šèµ·å§‹xï¼Œèµ·å§‹yï¼Œæ‹·è´å®½åº¦ï¼Œæ‹·è´é«˜åº¦</p>
<p><img loading="lazy" decoding="async" width="583" height="290" class="wp-image-1396" src="/wp-content/uploads/2018/05/word-image-1236.png" srcset="/wp-content/uploads/2018/05/word-image-1236.png 583w, /wp-content/uploads/2018/05/word-image-1236-300x149.png 300w" sizes="(max-width: 583px) 100vw, 583px" /></p>
<p>ç›®æ ‡å›¾çš„å‚æ•°ï¼šç›®æ ‡å›¾xï¼Œç›®æ ‡å›¾yï¼Œç›®æ ‡å®½åº¦ï¼Œç›®æ ‡é«˜åº¦</p>
<p><img loading="lazy" decoding="async" width="581" height="339" class="wp-image-1397" src="/wp-content/uploads/2018/05/word-image-1237.png" srcset="/wp-content/uploads/2018/05/word-image-1237.png 581w, /wp-content/uploads/2018/05/word-image-1237-300x175.png 300w" sizes="(max-width: 581px) 100vw, 581px" /></p>
<p>ä½¿ç”¨å‡½æ•°</p>
<p><img loading="lazy" decoding="async" width="748" height="123" class="wp-image-1398" src="/wp-content/uploads/2018/05/word-image-1238.png" srcset="/wp-content/uploads/2018/05/word-image-1238.png 748w, /wp-content/uploads/2018/05/word-image-1238-300x49.png 300w" sizes="(max-width: 748px) 100vw, 748px" /></p>
<p>è„šä¸‹ç•™å¿ƒï¼šimagecreatetruecolor()å’Œimagecreate()åŒºåˆ«</p>
<p>imagecreatetruecolor()æ–°å»ºä¸€ä¸ªçœŸå½©è‰²å›¾åƒ(RGBæ¨¡å¼)ï¼Œé»˜è®¤èƒŒæ™¯è‰²é»‘è‰²</p>
<p>imagecreate():æ–°å»ºä¸€ä¸ªåŸºäºè°ƒè‰²æ¿çš„å›¾åƒï¼Œåªæ”¯æŒ256ç§é¢œè‰²ï¼Œé»˜è®¤èƒŒæ™¯ç™½è‰²</p>
<p><img loading="lazy" decoding="async" width="1116" height="340" class="wp-image-1399" src="/wp-content/uploads/2018/05/word-image-1239.png" srcset="/wp-content/uploads/2018/05/word-image-1239.png 1116w, /wp-content/uploads/2018/05/word-image-1239-300x91.png 300w, /wp-content/uploads/2018/05/word-image-1239-768x234.png 768w, /wp-content/uploads/2018/05/word-image-1239-1024x312.png 1024w" sizes="(max-width: 1116px) 100vw, 1116px" /></p>
<h2>ç»™å›¾ç‰‡å¡«å……é¢œè‰²</h2>
<p><img loading="lazy" decoding="async" width="764" height="390" class="wp-image-1400" src="/wp-content/uploads/2018/05/word-image-1240.png" srcset="/wp-content/uploads/2018/05/word-image-1240.png 764w, /wp-content/uploads/2018/05/word-image-1240-300x153.png 300w" sizes="(max-width: 764px) 100vw, 764px" /></p>
<p>æ·±å…¥ç†è§£imagefill()</p>
<p><img loading="lazy" decoding="async" width="867" height="85" class="wp-image-1401" src="/wp-content/uploads/2018/05/word-image-1241.png" srcset="/wp-content/uploads/2018/05/word-image-1241.png 867w, /wp-content/uploads/2018/05/word-image-1241-300x29.png 300w, /wp-content/uploads/2018/05/word-image-1241-768x75.png 768w" sizes="(max-width: 867px) 100vw, 867px" /></p>
<p>ä¾‹é¢˜</p>
<p><img loading="lazy" decoding="async" width="799" height="198" class="wp-image-1402" src="/wp-content/uploads/2018/05/word-image-1242.png" srcset="/wp-content/uploads/2018/05/word-image-1242.png 799w, /wp-content/uploads/2018/05/word-image-1242-300x74.png 300w, /wp-content/uploads/2018/05/word-image-1242-768x190.png 768w" sizes="(max-width: 799px) 100vw, 799px" /></p>
<h2>å…³äºå›¾ç‰‡å¤„ç†çš„æ”¹é”™</h2>
<h3>ç¬¬ä¸€ï¼šå¦‚æœæŠ¥é”™ï¼Œå°±æŒ‰æŠ¥é”™çš„ä¿¡æ¯æ›´æ”¹</h3>
<p><img loading="lazy" decoding="async" width="1048" height="197" class="wp-image-1403" src="/wp-content/uploads/2018/05/word-image-1243.png" srcset="/wp-content/uploads/2018/05/word-image-1243.png 1048w, /wp-content/uploads/2018/05/word-image-1243-300x56.png 300w, /wp-content/uploads/2018/05/word-image-1243-768x144.png 768w, /wp-content/uploads/2018/05/word-image-1243-1024x192.png 1024w" sizes="(max-width: 1048px) 100vw, 1048px" /></p>
<h3>ç¬¬äºŒï¼šä¸æŠ¥é”™ï¼Œä½†æ˜¯å›¾ç‰‡æ˜¾ç¤ºä¸å‡ºæ¥</h3>
<p><img loading="lazy" decoding="async" width="855" height="202" class="wp-image-1404" src="/wp-content/uploads/2018/05/word-image-1244.png" srcset="/wp-content/uploads/2018/05/word-image-1244.png 855w, /wp-content/uploads/2018/05/word-image-1244-300x71.png 300w, /wp-content/uploads/2018/05/word-image-1244-768x181.png 768w" sizes="(max-width: 855px) 100vw, 855px" /></p>
<p>æ³¨é‡Šheader()ï¼ŒæŸ¥çœ‹é”™è¯¯</p>
<p><img loading="lazy" decoding="async" width="1019" height="197" class="wp-image-1405" src="/wp-content/uploads/2018/05/word-image-1245.png" srcset="/wp-content/uploads/2018/05/word-image-1245.png 1019w, /wp-content/uploads/2018/05/word-image-1245-300x58.png 300w, /wp-content/uploads/2018/05/word-image-1245-768x148.png 768w" sizes="(max-width: 1019px) 100vw, 1019px" /></p>
<p>ç¬¬ä¸‰ï¼šæ³¨é‡Šheader()å¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œå°±æŸ¥çœ‹æºç </p>
<p><img loading="lazy" decoding="async" width="1154" height="264" class="wp-image-1406" src="/wp-content/uploads/2018/05/word-image-1246.png" srcset="/wp-content/uploads/2018/05/word-image-1246.png 1154w, /wp-content/uploads/2018/05/word-image-1246-300x69.png 300w, /wp-content/uploads/2018/05/word-image-1246-768x176.png 768w, /wp-content/uploads/2018/05/word-image-1246-1024x234.png 1024w" sizes="(max-width: 1154px) 100vw, 1154px" /><br />
<img loading="lazy" decoding="async" width="1127" height="246" class="wp-image-1407" src="/wp-content/uploads/2018/05/word-image-1247.png" srcset="/wp-content/uploads/2018/05/word-image-1247.png 1127w, /wp-content/uploads/2018/05/word-image-1247-300x65.png 300w, /wp-content/uploads/2018/05/word-image-1247-768x168.png 768w, /wp-content/uploads/2018/05/word-image-1247-1024x224.png 1024w" sizes="(max-width: 1127px) 100vw, 1127px" /></p>
<h3>ç¬¬ä¸‰ï¼šç»ˆæä¸€æ‹›ï¼Œob_clean()</h3>
<p>å¦‚æœä¸Šé¢çš„æ–¹æ³•éƒ½æ²¡æœ‰æ•ˆæœï¼Œå¯ä»¥å°è¯•ob_clean()</p>
<p>åŸç†ï¼šå›¾ç‰‡è¾“å‡ºä¹‹å‰ä¸èƒ½æœ‰ä»»ä½•å­—ç¬¦çš„è¾“å‡ºï¼Œob_clean()æƒ…å†µç¼“å­˜ä¸­æ‰€æœ‰è¾“å‡ºã€‚</p>
<p><img loading="lazy" decoding="async" width="873" height="238" class="wp-image-1408" src="/wp-content/uploads/2018/05/word-image-1248.png" srcset="/wp-content/uploads/2018/05/word-image-1248.png 873w, /wp-content/uploads/2018/05/word-image-1248-300x82.png 300w, /wp-content/uploads/2018/05/word-image-1248-768x209.png 768w" sizes="(max-width: 873px) 100vw, 873px" /></p>
<h2>æ€è€ƒé¢˜</h2>
<p>åˆ¶ä½œç­‰æ¯”ç¼©ç•¥å›¾</p>
]]></content:encoded>
					
					<wfw:commentRss>/php/php%e6%a0%b8%e5%bf%83%e7%bc%96%e7%a8%8b/1363.html/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
